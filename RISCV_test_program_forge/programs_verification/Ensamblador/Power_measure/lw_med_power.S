.section .text
.globl _start
_start:
#----------------------------------------------------------------------------------
#-----------------------Start------------------------------------------------------
#----------------------------------------------------------------------------------
#L1: Se escribe el registro timer_count (para no activar la interrupcion)
#L2: Se escribe el registro mepc que indica la ubicacion en memoria del interrupt handler
#L3: Se guarda la ubicacion del interrupt handler y se guarda un respaldo en t5
#L4: Almacena el final del programa
        csrrwi x0,6,0x1F
        csrrwi x0,5,0x18
        li sp,0x00001ff8
        add t5,sp,x0
        j Main 
Main:
        li x1,5500
        addi x2,x0,-691
        addi x3,x0,1435
        addi x4,x0,-473
        addi x5,x0,-1934
        addi x6,x0,-932
        addi x7,x0,891
        addi x8,x0,-39
        addi x9,x0,60
        addi x10,x0,-779
        addi x11,x0,-2028
        addi x12,x0,1686
        addi x13,x0,-786
        addi x14,x0,-1561
        addi x15,x0,1719
        addi x16,x0,-843
        addi x17,x0,964
        addi x18,x0,-100
        addi x19,x0,969
        addi x20,x0,1945
        addi x21,x0,1832
        addi x22,x0,-1451
        addi x23,x0,1978
        addi x24,x0,169
        addi x25,x0,-1772
        addi x26,x0,679
        addi x27,x0,-1653
        addi x28,x0,645
        addi x29,x0,-16
        addi x30,x0,1555
        addi x31,x0,1714
        sw x2,0(x1)
        sw x3,4(x1)
        sw x4,8(x1)
        sw x5,12(x1)
        sw x6,16(x1)
        sw x7,20(x1)
        sw x8,24(x1)
        sw x9,28(x1)
        sw x10,32(x1)
        sw x11,36(x1)
        sw x12,40(x1)
        sw x13,44(x1)
        sw x14,48(x1)
        sw x15,52(x1)
        sw x16,56(x1)
        sw x17,60(x1)
        sw x18,64(x1)
        sw x19,68(x1)
        sw x20,72(x1)
        sw x21,76(x1)
        sw x22,80(x1)
        sw x23,84(x1)
        sw x24,88(x1)
        sw x25,92(x1)
        sw x26,96(x1)
        sw x27,100(x1)
        sw x28,104(x1)
        sw x29,108(x1)
        sw x30,112(x1)
        sw x31,116(x1)

Inicio:
#---------Tomando los datos del timer 
        lw x21,64(x1)
        lw x4,28(x1)
        lw x29,104(x1)
        lw x20,116(x1)
        lw x29,72(x1)
        lw x16,20(x1)
        lw x24,60(x1)
        lw x5,112(x1)
        lw x28,12(x1)
        lw x22,12(x1)
        lw x9,68(x1)
        lw x5,116(x1)
        lw x23,96(x1)
        lw x8,20(x1)
        lw x10,88(x1)
        lw x26,108(x1)
        lw x18,16(x1)
        lw x16,72(x1)
        lw x12,8(x1)
        lw x3,72(x1)
        lw x24,52(x1)
        lw x27,36(x1)
        lw x17,0(x1)
        lw x9,56(x1)
        lw x27,60(x1)
        lw x4,84(x1)
        lw x19,116(x1)
        lw x12,24(x1)
        lw x21,104(x1)
        lw x15,4(x1)
        lw x30,8(x1)
        lw x4,20(x1)
        lw x9,4(x1)
        lw x10,52(x1)
        lw x30,84(x1)
        lw x30,100(x1)
        lw x22,20(x1)
        lw x23,16(x1)
        lw x15,56(x1)
        lw x26,56(x1)
        lw x13,36(x1)
        lw x22,60(x1)
        lw x28,28(x1)
        lw x17,56(x1)
        lw x19,104(x1)
        lw x12,8(x1)
        lw x31,76(x1)
        lw x31,108(x1)
        lw x18,4(x1)
        lw x3,36(x1)
        lw x31,48(x1)
        lw x3,108(x1)
        lw x11,12(x1)
        lw x8,28(x1)
        lw x19,96(x1)
        lw x13,60(x1)
        lw x3,64(x1)
        lw x8,60(x1)
        lw x12,112(x1)
        lw x12,0(x1)
        lw x31,72(x1)
        lw x7,72(x1)
        lw x4,116(x1)
        lw x14,52(x1)
        lw x20,40(x1)
        lw x27,100(x1)
        lw x15,108(x1)
        lw x5,100(x1)
        lw x14,48(x1)
        lw x12,104(x1)
        lw x30,80(x1)
        lw x24,16(x1)
        lw x31,72(x1)
        lw x18,24(x1)
        lw x26,32(x1)
        lw x18,96(x1)
        lw x20,76(x1)
        lw x26,112(x1)
        lw x30,4(x1)
        lw x14,64(x1)
        lw x10,72(x1)
        lw x7,96(x1)
        lw x30,24(x1)
        lw x26,52(x1)
        lw x31,96(x1)
        lw x13,56(x1)
        lw x29,108(x1)
        lw x13,104(x1)
        lw x7,68(x1)
        lw x4,44(x1)
        lw x18,24(x1)
        lw x19,80(x1)
        lw x31,108(x1)
        lw x25,32(x1)
        lw x22,48(x1)
        lw x5,104(x1)
        lw x2,100(x1)
        lw x29,92(x1)
        lw x9,32(x1)
        lw x23,16(x1)
        lw x31,64(x1)
        j Inicio


